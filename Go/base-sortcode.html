
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">


<title>toukii.github.io</title>
<meta property="og:title" content="blog" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="TOUKII GITHUB" />
<meta property="og:description" content="TOUKII GITHUB" />
<link rel="canonical" href="http://toukii.github.io/Go/base2.html" />
<meta property="og:url" content="http://toukii.github.io/Go/base2.html" />
<meta property="og:site_name" content="toukii.github.io" />
<script type="application/ld+json">
{"name":null,"description":"TOUKII GITHUB","author":null,"@type":"WebPage","url":"http://toukii.github.io/Go/base2.html","image":null,"publisher":null,"headline":"诡异:区别于其他语言","dateModified":null,"datePublished":null,"sameAs":null,"mainEntityOfPage":null,"@context":"http://schema.org"}</script>

<style type="text/css">
.col-md-8{
  min-height: 482px;
}
pre{
  background-color: #DAF9CA;
  color: #376956;
}
 
.lineB{
  background-color: #dbffdb;
}
.line{
  float:left;
  width:25px;
  background-color: #DAF9BA;
}
.linenum{
  color: rgba(27,31,35,0.3);
  float: left;
  padding-left: 3px;
  width: 25px;
  -moz-user-select: none;  
  -webkit-user-select: none;  
  -ms-user-select: none;  
  -khtml-user-select: none;  
  user-select: none;
}
#fh5co-header-section.fh5co-scrolled{
  background: #C3C3F3;
}
.hiddened{top: -90px;}
.showed{top:0;z-index: 9999;}
</style>


    
    <link rel="stylesheet" href="http://libs.baidu.com/bootstrap/3.0.3/css/bootstrap.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/everfore/cdn/css/code.css">
  </head>
  <body>

<div class="container">
  <div class="row row-bottom-padded-sm">
    <div class="col-md-8 col-md-offset-2 markdown-body">
      
        <h1><a href="http://toukii.github.io/">toukii.github.io</a></h1>
      

<link rel="stylesheet" href="http://7xku3c.com1.z0.glb.clouddn.com/code/code.css?v=0.4">
	<link rel="stylesheet" href="http://7xku3c.com1.z0.glb.clouddn.com/github/github-markdown.css?v=0.1">
<script src="http://7xku3c.com1.z0.glb.clouddn.com/static/js/jquery-1.10.2.min.js"></script>
<script src="http://7xku3c.com1.z0.glb.clouddn.com/code/code.js?v=0.1"></script>
<h1><a name="排序算法实现" class="anchor" href="#%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95%E5%AE%9E%E7%8E%B0" rel="nofollow" aria-hidden="true"><span class="octicon octicon-link"></span></a>排序算法实现</h1>
<h2><a name="插入排序" class="anchor" href="#%E6%8F%92%E5%85%A5%E6%8E%92%E5%BA%8F" rel="nofollow" aria-hidden="true"><span class="octicon octicon-link"></span></a>
插入排序</h2>
<h2><a name="依次移动数组元素" class="anchor" href="#%E4%BE%9D%E6%AC%A1%E7%A7%BB%E5%8A%A8%E6%95%B0%E7%BB%84%E5%85%83%E7%B4%A0" rel="nofollow" aria-hidden="true"><span class="octicon octicon-link"></span></a>
依次移动数组元素</h2>

<pre><code>func SortInsert(data []int) {
	size := len(data)
	for idx := 1; idx &lt; size; idx++ {
		insert(data[:idx+1], idx)
	}
}

// 插入排序: 依次移动数组元素
func insert(data []int, idx int) {
	for idx &gt; 0 &amp;&amp; data[idx] &lt; data[idx-1] {
		data[idx-1], data[idx] = data[idx], data[idx-1]
		idx--
	}
}
</code></pre>
<h3><a name="批量移动数组元素" class="anchor" href="#%E6%89%B9%E9%87%8F%E7%A7%BB%E5%8A%A8%E6%95%B0%E7%BB%84%E5%85%83%E7%B4%A0" rel="nofollow" aria-hidden="true"><span class="octicon octicon-link"></span></a>
批量移动数组元素</h3>

<pre><code>func SortInsert2(data []int) {
	size := len(data)
	for idx := 1; idx &lt; size; idx++ {
		insert2(data[:idx+1], idx)
	}
}

// 插入排序：批量移动数组元素
func insert2(data []int, idx int) {
	index := idx
	for i := idx - 1; i &gt;= 0; i-- {
		if data[i] &gt;= data[idx] {
			index = i
			continue
		} else {
			break
		}
	}
	v := data[idx]
	fmt.Println(idx, v, index, data)
	copy(data[index+1:idx+1], data[index:idx])
	data[index] = v
}
</code></pre>
<h2><a name="选择排序" class="anchor" href="#%E9%80%89%E6%8B%A9%E6%8E%92%E5%BA%8F" rel="nofollow" aria-hidden="true"><span class="octicon octicon-link"></span></a>
选择排序</h2>

<pre><code>
// 选择排序：每次选择最大或最小的元素
func SortSelect(data []int) {
	size := len(data)
	for idx := 0; idx &lt; size; idx++ {
		min := idx
		for j := idx + 1; j &lt; size; j++ {
			if data[j] &lt; data[min] {
				min = j
			}
		}
		if min != idx {
			data[idx], data[min] = data[min], data[idx]
		}
	}
}
</code></pre>
<h2><a name="冒泡排序" class="anchor" href="#%E5%86%92%E6%B3%A1%E6%8E%92%E5%BA%8F" rel="nofollow" aria-hidden="true"><span class="octicon octicon-link"></span></a>
冒泡排序</h2>

<pre><code>// 冒泡排序：比较相邻两个元素的大小，若不符合排序规则，则交互元素
func SortBubble(data []int) {
	swaped := false
	size := len(data)
	for i := 0; i &lt; size; i++ {
		for j := 1; j &lt; size; j++ {
			if !compare(data[j-1], data[j]) {
				data[j-1], data[j] = data[j], data[j-1]
				swaped = true
			}
		}
		if !swaped {
			break
		}
	}
}

func compare(i, j int) bool {
	return i &lt; j
}
</code></pre>
<h2><a name="快速排序" class="anchor" href="#%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F" rel="nofollow" aria-hidden="true"><span class="octicon octicon-link"></span></a>
快速排序</h2>
<h3><a name="取data-low-未pivot" class="anchor" href="#%E5%8F%96data-low-%E6%9C%AApivot" rel="nofollow" aria-hidden="true"><span class="octicon octicon-link"></span></a>
取data[low]未pivot</h3>

<pre><code>func SortQuick(data []int) {
	// size := len(data)
	pivot := quick(data)
	// pivot := quickv2(data)
	if pivot &lt; 0 {
		return
	}
	SortQuick(data[:pivot])
	SortQuick(data[pivot+1:])
}

// 取data[low]为pivot
func quick(data []int) int {
	size := len(data)
	low, high := 0, size-1
	if low &gt;= high {
		return -1
	}
	pivot := data[low]
	for low &lt; high {
		for low &lt; high &amp;&amp; data[high] &gt;= pivot {
			high--
		}
		data[low] = data[high]
		for low &lt; high &amp;&amp; data[low] &lt;= pivot {
			low++
		}
		data[high] = data[low]
	}
	data[low] = pivot
	return low
}
</code></pre>
<h3><a name="随机取或取中间数为pivot" class="anchor" href="#%E9%9A%8F%E6%9C%BA%E5%8F%96%E6%88%96%E5%8F%96%E4%B8%AD%E9%97%B4%E6%95%B0%E4%B8%BApivot" rel="nofollow" aria-hidden="true"><span class="octicon octicon-link"></span></a>
随机取或取中间数为pivot</h3>

<pre><code>func quickv2(data []int) int {
	size := len(data)
	if size &lt;= 1 {
		return -1
	}
	low, high := 0, size-1
	pivot := (low + high) &gt;&gt; 1
	tmp := data[pivot]
	for low &lt; high {
		for pivot &lt; high &amp;&amp; data[high] &gt;= tmp {
			high--
		}
		data[pivot] = data[high]
		pivot = high

		for low &lt; pivot &amp;&amp; data[low] &lt;= tmp {
			low++
		}
		data[pivot] = data[low]
		pivot = low
	}
	data[pivot] = tmp
	return pivot
}
</code></pre>
<h3><a name="傻瓜快排" class="anchor" href="#%E5%82%BB%E7%93%9C%E5%BF%AB%E6%8E%92" rel="nofollow" aria-hidden="true"><span class="octicon octicon-link"></span></a>
傻瓜快排</h3>

<pre><code>func QuickSortv3(data []int) int {
	size := len(data)
	if size &lt;= 1 {
		return -1
	}
	fmt.Println(data)
	low, high := 0, size-1
	pivot := (low + high) &gt;&gt; 1
	tmp := data[pivot]
	left, equal, right := make([]int, 0, size), make([]int, 0, size&gt;&gt;2+1), make([]int, 0, size)

	for i := 0; i &lt; size; i++ {
		if data[i] &lt; tmp {
			left = append(left, data[i])
		} else if data[i] &gt; tmp {
			right = append(right, data[i])
		} else {
			equal = append(equal, data[i])
		}
	}

	QuickSortv3(left)
	idx := 0
	for _, it := range left {
		data[idx] = it
		idx++
	}

	for _, it := range equal {
		data[idx] = it
		idx++
	}

	QuickSortv3(right)
	for _, it := range right {
		data[idx] = it
		idx++
	}
	return pivot
}
</code></pre>



      
    </div>
  </div>
</div>

    <script src="https://cdn.jsdelivr.net/gh/everfore/cdn@v0.02/js/toukii/jquery-1.10.2.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/everfore/cdn/js/code.js"></script>
    
  </body>
</html>

body>
</html>

